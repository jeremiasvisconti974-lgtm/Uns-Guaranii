<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SIU Guaran√≠ ‚Äî Panel Acad√©mico</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- HEADER / MENU SUPERIOR -->
  <header class="header">
    <div class="header-inner">
      <div class="logo">SIU Guaran√≠<span class="logo-small"> ‚Äî UNS</span></div>

      <nav class="main-nav" aria-label="main navigation">
        <ul>
          <li class="nav-item home"><a href="#">üè† Inicio</a></li>

          <li class="nav-item has-sub">
            <button class="sub-btn">Cursadas ‚ñæ</button>
            <ul class="sub">
              <li><a href="#">Ver cursadas</a></li>
              <li><a href="#">Inscripci√≥n a materias</a></li>
              <li><a href="#">Historial</a></li>
            </ul>
          </li>

          <li class="nav-item has-sub">
            <button class="sub-btn">Ex√°menes ‚ñæ</button>
            <ul class="sub">
              <li><a href="#">Inscripci√≥n a ex√°menes</a></li>
              <li><a href="#">Turnos</a></li>
              <li><a href="#">Actas</a></li>
            </ul>
          </li>

          <li class="nav-item has-sub">
            <button class="sub-btn">Remediales ‚ñæ</button>
            <ul class="sub">
              <li><a href="#">Consulta remediales</a></li>
            </ul>
          </li>

          <li class="nav-item has-sub">
            <button class="sub-btn">Matr√≠cula ‚ñæ</button>
            <ul class="sub">
              <li><a href="#">Estado de matr√≠cula</a></li>
            </ul>
          </li>

          <li class="nav-item has-sub">
            <button class="sub-btn">Certificaciones ‚ñæ</button>
            <ul class="sub">
              <li><a href="#">Anal√≠tico</a></li>
              <li><a href="#">Constancia alumno regular</a></li>
            </ul>
          </li>

          <li class="nav-item has-sub active">
            <button class="sub-btn">Consultas ‚ñæ</button>
            <ul class="sub">
              <li><a href="#">Historia Acad√©mica</a></li>
              <li><a href="#">Reportes</a></li>
              <li><a href="#">Tr√°mites</a></li>
              <li><a href="#">Solicitud de t√≠tulo</a></li>
            </ul>
          </li>

          <li class="nav-item has-sub">
            <button class="sub-btn">Servicios ‚ñæ</button>
            <ul class="sub">
              <li><a href="#">Becas</a></li>
              <li><a href="#">Soporte</a></li>
            </ul>
          </li>

          <li class="nav-item has-sub">
            <button class="sub-btn">Egresados ‚ñæ</button>
            <ul class="sub">
              <li><a href="#">Tr√°mites egreso</a></li>
            </ul>
          </li>

          <li class="nav-item logout"><a href="index.html">Salir</a></li>
        </ul>
      </nav>

      <div class="user-info">
        Jerem√≠as Visconti ‚Äî Ingenier√≠a Civil
      </div>
    </div>
  </header>

  <!-- === DATOS PERSONALES + RESUMEN (debajo del header) === -->
  <section class="summary-row">
    <div class="summary-inner">

      <!-- Datos personales -->
      <div class="box personal-box">
        <h3>Datos personales</h3>
        <p><strong>Nombre:</strong> Jerem√≠as Santino Visconti</p>
        <p><strong>DNI:</strong> 47.638.194</p>
        <p><strong>Legajo:</strong> 23-47638</p>
        <p><strong>Email:</strong> jeremiasvisconti974@gmail.com</p>
        <p><strong>Fecha de ingreso:</strong> 03/03/2024</p>
      </div>

      <!-- Resumen acad√©mico -->
      <div class="box summary-box">
        <h3>Resumen acad√©mico</h3>

        <div class="summary-grid">
          <div>
            <div class="summary-label">Cr√©ditos acumulados</div>
            <div class="summary-value" id="credits">72</div>
          </div>

          <div>
            <div class="summary-label">Promedio general</div>
            <div class="summary-value" id="gpa">7.8</div>
          </div>

          <div>
            <div class="summary-label">Plan del Alumno</div>
            <div class="summary-value">2006</div>
          </div>

          <div>
            <div class="summary-label">Avance del plan</div>
            <div class="progress-wrap">
              <div class="progress-bar" id="progress-bar" style="width:0%"></div>
            </div>
            <div class="summary-small" id="progress-percent">0%</div>
          </div>
        </div>

        <div class="small-note">Estado acad√©mico: <strong>Alumno Regular</strong></div>
      </div>

      <!-- Correlativas r√°pidas -->
      <div class="box correlativas-box">
        <h3>Correlativas - faltantes</h3>
        <ul id="correlativas-list">
          <li>‚Äî Ninguna pendiente por ahora</li>
        </ul>
      </div>

    </div>
  </section>

  <!-- PAGE GRID -->
  <div class="page">

    <!-- LEFT SIDEBAR -->
    <aside class="sidebar-left">
      <div class="box">
        <h3>Marca la informaci√≥n que deseas ver:</h3>

        <div class="filter-block">
          <h4>Cursadas</h4>
          <label><input type="checkbox" checked data-filter="promocionada"> Promocionada</label>
          <label><input type="checkbox" checked data-filter="aprobada"> Aprobada</label>
          <label><input type="checkbox" checked data-filter="desaprobada"> <em>Desaprobada</em></label>
          <label><input type="checkbox" checked data-filter="ausente"> Ausente</label>
          <label><input type="checkbox" checked data-filter="en-curso"> En curso</label>
        </div>

        <hr>

        <div class="filter-block">
          <h4>Ex√°menes</h4>
          <label><input type="checkbox" checked data-filter="exam-aprobado"> Aprobado</label>
          <label><input type="checkbox" checked data-filter="exam-desap"> Desaprobado</label>
        </div>

        <hr>

        <div class="filter-block">
          <h4>Equivalencias</h4>
          <label><input type="checkbox" checked data-filter="equiv-aprobada"> Aprobada</label>
          <label><input type="checkbox" checked data-filter="equiv-reprobada"> Reprobada</label>
        </div>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main">

      <div class="panel box">
        <h1>Historia acad√©mica</h1>
        <div class="meta">
          <div>Plan del Alumno: <strong>2006</strong></div>
          <div class="status-right">Estado: <strong>Alumno Regular</strong></div>
        </div>

        <div class="controls">
          <div class="control-group">
            <label>A√±o</label>
            <select id="select-year">
              <option value="all">Todos los a√±os</option>
              <option value="2024" selected>2024</option>
              <option value="2025">2025</option>
            </select>
          </div>

          <div class="control-group">
            <label>Materia</label>
            <select id="select-materia">
              <option value="all">Todas las materias</option>
            </select>
          </div>

          <div class="control-group">
            <button id="btn-show-all" class="btn-blue">Mostrar Todos los A√±os</button>
          </div>
        </div>

        <!-- YEAR 2024 (todas aprobadas menos 1 pendiente opcional) -->
        <div class="year-block" data-year="2024">
          <div class="year-bar">2024</div>

          <div class="subject aprobada">
            <div class="subject-title">Matem√°tica I (C√°lculo diferencial)</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Matem√°tica II (C√°lculo integral)</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">√Ålgebra Lineal</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Ecuaciones Diferenciales</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Probabilidad y Estad√≠stica</div>
            <div class="subject-meta">Examen ¬∑ <span class="tag green">Aprobado</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">F√≠sica I</div>
            <div class="subject-meta">Examen ¬∑ <span class="tag green">Aprobado</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Qu√≠mica General</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Inform√°tica / Computaci√≥n</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Geometr√≠a Descriptiva</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Dibujo T√©cnico</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

        </div>

        <!-- YEAR 2025 -->
        <div class="year-block" data-year="2025">
          <div class="year-bar">2025</div>

          <div class="subject aprobada">
            <div class="subject-title">F√≠sica II</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject en-curso">
            <div class="subject-title">Topograf√≠a</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag blue">En curso</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Materiales de Construcci√≥n</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject en-curso">
            <div class="subject-title">Mec√°nica (Resistencia / Est√°tica)</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag blue">En curso</span></div>
          </div>

          <div class="subject desaprobada">
            <div class="subject-title">Mec√°nica de Fluidos / Hidr√°ulica</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag red">Desaprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Resistencia de Materiales (Estructuras I)</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Geotecnia (Mec√°nica de Suelos)</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject en-curso">
            <div class="subject-title">V√≠as de Comunicaci√≥n (Transportes)</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag blue">En curso</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Construcci√≥n</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

          <div class="subject aprobada">
            <div class="subject-title">Topograf√≠a y Saneamiento Ambiental</div>
            <div class="subject-meta">Cursada ¬∑ <span class="tag green">Aprobada</span></div>
          </div>

        </div>

      </div>
    </main>

    <!-- RIGHT SIDEBAR (info adicional, notificaciones, historial de examenes) -->
    <aside class="sidebar-right">
      <div class="box">
        <h4>Notificaciones</h4>
        <ul class="notifs">
          <li>Inscripci√≥n a finales abierta ‚Äî vence 10/03/2025</li>
          <li>Se public√≥ acta de F√≠sica I</li>
          <li>Tu constancia de alumno regular est√° disponible</li>
        </ul>
      </div>

      <div class="box">
        <h4>Historial de ex√°menes</h4>
        <table class="mini-table" id="exam-history">
          <thead><tr><th>Materia</th><th>Fecha</th><th>Nota</th></tr></thead>
          <tbody>
            <!-- generado por JS -->
          </tbody>
        </table>
      </div>

      <div class="box">
        <h4>Turnos</h4>
        <p><strong>Turno 2025-01</strong></p>
        <p>Inicio: 01/07/2025</p>
      </div>
    </aside>

  </div> <!-- /page -->

<script>
/* SUBMENU behavior: click toggle (works mobile) + hover open (desktop) */
document.querySelectorAll('.main-nav .has-sub').forEach(li=>{
  const btn = li.querySelector('.sub-btn');
  btn.addEventListener('click', (e)=>{
    e.stopPropagation();
    li.classList.toggle('open');
  });
  li.addEventListener('mouseenter', ()=> li.classList.add('open'));
  li.addEventListener('mouseleave', ()=> li.classList.remove('open'));
});

/* Populate materia select from DOM */
(function fillMateriaSelect(){
  const sel = document.getElementById('select-materia');
  const subjects = Array.from(document.querySelectorAll('.subject .subject-title')).map(n=>n.textContent.trim());
  const unique = [...new Set(subjects)];
  unique.forEach(s=>{
    const opt = document.createElement('option');
    opt.value = s;
    opt.textContent = s;
    sel.appendChild(opt);
  });
})();

/* Year select + show/hide logic */
const selectYear = document.getElementById('select-year');
selectYear.addEventListener('change', ()=>{
  const v = selectYear.value;
  document.querySelectorAll('.year-block').forEach(block=>{
    block.style.display = (v==='all' || block.dataset.year === v) ? '' : 'none';
  });
});

/* Materia filter */
document.getElementById('select-materia').addEventListener('change', function(){
  const v = this.value;
  document.querySelectorAll('.subject').forEach(s=>{
    const title = s.querySelector('.subject-title').textContent.trim();
    s.style.display = (v==='all' || v===title) ? '' : 'none';
  });
});

/* Show all years button */
document.getElementById('btn-show-all').addEventListener('click', ()=>{
  document.getElementById('select-year').value = 'all';
  document.querySelectorAll('.year-block').forEach(b=> b.style.display = '');
});

/* Sidebar checkboxes: filter by class */
document.querySelectorAll('.sidebar-left input[type="checkbox"]').forEach(ch=>{
  ch.addEventListener('change', ()=> {
    const checked = Array.from(document.querySelectorAll('.sidebar-left input[type="checkbox"]:checked')).map(i=>i.dataset.filter);
    // if nothing checked, show all
    if(checked.length===0){
      document.querySelectorAll('.subject').forEach(s=> s.style.display = '');
      return;
    }
    document.querySelectorAll('.subject').forEach(s=>{
      // check if subject has any of the checked classes
      const has = checked.some(cls => s.classList.contains(cls));
      s.style.display = has ? '' : 'none';
    });
  });
});

/* === EXTRA: c√°lculos para resumen acad√©mico, correlativas y exam history === */
function computeSummaryAndHistory(){
  const subjects = Array.from(document.querySelectorAll('.subject'));
  let total = subjects.length;
  let aprobadas = 0, encurso = 0, desaprobadas = 0;
  let credits = 0;
  const examHistory = [];

  subjects.forEach(s=>{
    const title = s.querySelector('.subject-title').textContent.trim();
    const tagEl = s.querySelector('.tag');
    const tagText = tagEl ? tagEl.textContent.trim().toLowerCase() : '';
    // count states
    if(tagText.includes('aprob')) aprobadas++;
    else if(tagText.includes('en curso') || tagText.includes('en curso'.toLowerCase())) encurso++;
    else if(tagText.includes('desaprob')) desaprobadas++;

    // simple credits logic: each materia 6 credits aprox
    credits += 6;

    // build exam history if subject-meta includes 'Examen' OR tag is 'Aprobado' with exam (heuristic)
    const meta = s.querySelector('.subject-meta').textContent.trim().toLowerCase();
    if(meta.includes('examen') || tagText === 'aprobado' || tagText === 'aprobada'){
      // push a fake entry if it's an examen or aprobada on examen
      examHistory.push({
        materia: title,
        fecha: meta.includes('examen') ? '15/06/2024' : '20/11/2024',
        nota: (tagText.includes('aprob') ? (Math.floor(6 + Math.random()*4)) : '-')
      });
    }
  });

  // fill widgets
  const creditsEl = document.getElementById('credits');
  const gpaEl = document.getElementById('gpa');
  const progressBar = document.getElementById('progress-bar');
  const progressPct = document.getElementById('progress-percent');

  creditsEl.textContent = credits;
  // crude GPA: base 7.5 + small random (for demo)
  gpaEl.textContent = ( (7.4 + (aprobadas/total)*1.2) ).toFixed(2);

  const percent = Math.round((aprobadas / total) * 100);
  progressBar.style.width = percent + '%';
  progressPct.textContent = percent + '%';

  // correlativas: if any desaprobada, show them
  const corrList = document.getElementById('correlativas-list');
  corrList.innerHTML = '';
  if(desaprobadas === 0){
    corrList.innerHTML = '<li>‚Äî Ninguna pendiente por ahora</li>';
  } else {
    document.querySelectorAll('.subject.desaprobada .subject-title').forEach(n=>{
      const li = document.createElement('li');
      li.textContent = n.textContent.trim() + ' ‚Äî Final pendiente';
      corrList.appendChild(li);
    });
  }

  // exam history table
  const tbody = document.querySelector('#exam-history tbody');
  tbody.innerHTML = '';
  examHistory.slice(0,8).forEach(e=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${e.materia}</td><td>${e.fecha}</td><td>${e.nota}</td>`;
    tbody.appendChild(tr);
  });
}

document.addEventListener('DOMContentLoaded', ()=>{
  computeSummaryAndHistory();
});
</script>

</body>
</html>
